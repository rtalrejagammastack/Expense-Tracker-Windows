<h1 class="text-center"> Expense Categories </h1>

<% @user_categories.each do | user_category | %>
    <div class="d-flex justify-content-around"> 
      <%= user_category.name %>
      <%= link_to "New Expense Category", new_category_expense_category_path(user_category), class:"btn btn-primary" %>
    </div>
    <div class="container d-flex">
        <% user_category.fetch_expense_categories.each do | expense_category | %>
          <div class="card">
            <div class="card-body">
              <h5 class="card-title text-center"> <%= expense_category.name %> </h5>
              <%= link_to "Edit Category", edit_category_expense_category_path(user_category,expense_category), class:"btn btn-primary" %>
              <% if expense_category.user? %>
                <%= link_to "Delete Category", category_expense_category_path(user_category,expense_category), class: "btn btn-danger", method: :delete %>
              <% end %>
              <% expense_category.fetch_sub_categories(user_category).each do | expense_sub_category | %>
                <p class="card-text"> <%= expense_sub_category.name %> </p>
              <% end %>
            </div>
          </div>  
        <% end %>
    </div>
<% end %>